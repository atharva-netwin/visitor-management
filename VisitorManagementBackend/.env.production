# Production Environment Variables Template
# Copy this file and fill in the actual values for your production deployment
# NEVER commit the actual .env.production file to version control

# ==============================================
# SERVER CONFIGURATION
# ==============================================
NODE_ENV=production
PORT=3000

# ==============================================
# DATABASE CONFIGURATION (SUPABASE)
# ==============================================
# Get these values from your Supabase project settings > Database
DB_HOST=db.yewlfsfncojfxdyxftog.supabase.co
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=akop@91100110011
DB_SSL=true

# ==============================================
# REDIS CONFIGURATION (OPTIONAL)
# ==============================================
# For production, consider using Upstash Redis (free tier available)
# Leave empty if not using Redis (caching will be disabled)
REDIS_HOST=
REDIS_PORT=6379
REDIS_PASSWORD=

# ==============================================
# JWT CONFIGURATION
# ==============================================
# IMPORTANT: Generate strong, unique secrets for production
# Use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_ACCESS_SECRET=caaa46a831980a17100f5972cbabfe6d3da96f85ecccdc7b04f5605ffc2852d4
JWT_REFRESH_SECRET=edc981c7e1a3beb86457bbfda5349fca858928833fff8739ac88149a601e69ce
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ==============================================
# CORS CONFIGURATION
# ==============================================
# Add your mobile app and web app domains (comma-separated)
# Include both www and non-www versions if applicable
CORS_ORIGINS=https://your-app-domain.com,https://www.your-app-domain.com,http://localhost:3000

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
BCRYPT_SALT_ROUNDS=12

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
LOG_LEVEL=info

# ==============================================
# MONITORING CONFIGURATION
# ==============================================
HEALTH_CHECK_ENABLED=true

# ==============================================
# RATE LIMITING CONFIGURATION
# ==============================================
# Authentication endpoints (stricter limits)
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX=5

# General API endpoints
RATE_LIMIT_API_WINDOW_MS=900000
RATE_LIMIT_API_MAX=100

# Sync endpoints (moderate limits)
RATE_LIMIT_SYNC_WINDOW_MS=300000
RATE_LIMIT_SYNC_MAX=10

# ==============================================
# OPTIONAL CONFIGURATION
# ==============================================

# Custom domain (if using)
# CUSTOM_DOMAIN=api.your-domain.com

# Additional CORS settings
# CORS_CREDENTIALS=true
# CORS_MAX_AGE=86400

# Session configuration
# SESSION_TIMEOUT=3600

# File upload limits (if implemented)
# MAX_FILE_SIZE=10485760
# ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf

# ==============================================
# RENDER.COM SPECIFIC
# ==============================================
# These are automatically set by Render, but can be overridden

# Render sets this automatically
# RENDER=true

# Render sets this automatically based on your service
# RENDER_SERVICE_NAME=visitor-management-backend

# Render sets this automatically
# RENDER_EXTERNAL_URL=https://your-service.onrender.com

# ==============================================
# INSTRUCTIONS FOR SETUP
# ==============================================

# 1. Copy this file to .env.production
# 2. Fill in all the values with your actual configuration
# 3. Generate secure JWT secrets using the command provided above
# 4. Get Supabase database credentials from your project dashboard
# 5. Set up Redis if you want caching (optional for free tier)
# 6. Add your actual domain names to CORS_ORIGINS
# 7. In Render dashboard, add these as environment variables
# 8. NEVER commit the actual .env.production file to version control

# ==============================================
# SECURITY NOTES
# ==============================================

# - Use strong, unique passwords and secrets
# - Rotate secrets regularly (at least every 90 days)
# - Use different secrets for different environments
# - Monitor access logs for suspicious activity
# - Keep this template updated when adding new configuration options
# - Use a password manager to store sensitive values securely

# ==============================================
# VALIDATION
# ==============================================

# Before deployment, verify:
# ✓ All required variables are set
# ✓ Database connection works
# ✓ JWT secrets are secure (32+ characters)
# ✓ CORS origins include your actual domains
# ✓ No sensitive data is committed to version control
# ✓ Rate limits are appropriate for your use case